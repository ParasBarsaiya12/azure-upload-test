<!DOCTYPE html>
<html>
<head>
  <title>Azure Blob Upload</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/azure-storage-blob/12.10.0/azure-storage-blob.min.js"></script>
</head>
<body>
  <h2>Upload to Azure Blob Storage</h2>
  <input type="file" id="fileUpload" />
  <button onclick="uploadFile()">Upload</button>
  <p id="status"></p>

  <script>
    async function uploadFile() {
      const file = document.getElementById("fileUpload").files[0];
      if (!file) {
        alert("Select a file first");
        return;
      }

      // üëá Replace with your SAS URL
      const containerSasUrl = "https://stgacctflowaidev.blob.core.windows.net/file-upload?sp=rcw&st=2025-09-02T15:30:45Z&se=2025-09-02T23:45:45Z&spr=https&sv=2024-11-04&sr=c&sig=nZF1%2BlUJ5GSUf6mL1f7BY87oYaPNyb%2BlBsavQL8k3Mc%3D";

      try {
        const { BlobServiceClient } = window.azureStorageBlob;
        const blobServiceClient = new BlobServiceClient(containerSasUrl);

        const containerClient = blobServiceClient.getContainerClient();
        const blockBlobClient = containerClient.getBlockBlobClient(file.name);

        document.getElementById("status").innerText = "‚è≥ Uploading...";

        await blockBlobClient.uploadBrowserData(file);

        document.getElementById("status").innerText = "‚úÖ Uploaded successfully!";
      } catch (err) {
        document.getElementById("status").innerText = "‚ùå Error: " + err.message;
        console.error(err);
      }
    }
  </script>
</body>
</html>
